{% extends "base.html" %}

{% block content %}

{% if response %}

<pre>
    <code class="language-{{lang}} line-numbers">
     {{ response }}
    </code>
</pre>

<br><br>

<form method="POST" action="{% url 'suggest' %}">
    {% csrf_token %}

    <div class="mb-3">
        <textarea class="form-control" rows="3" name="code" placeholder="Have AI Suggest Code">{{ code }}</textarea>
    </div>

    <select class="form-select" name="lang">
        <option selected>Select Programming Languages</option>

        {% for lang in lang_list %}
        <option value="{{lang}}">{{lang}}</option>
        {% endfor %}
    </select>

    <br>

    <button type="submit" class="btn btn-secondary">Submit</button>
</form>

{% else %}


<pre>
    <code class="language-python line-numbers">
     print("Hello World!")
    </code>
</pre>

<br><br>

<form method="POST" action="{% url 'suggest' %}">
    {% csrf_token %}

    <div class="mb-3">
        <textarea class="form-control" rows="3" name="code" placeholder="Have AI Suggest Code"></textarea>
    </div>

    <select class="form-select" name="lang">
        <option selected>Select Programming Languages</option>

        {% for lang in lang_list %}
        <option value="{{lang}}">{{lang}}</option>
        {% endfor %}
    </select>

    <br>

    <button type="submit" class="btn btn-secondary">Submit</button>
</form>


{% endif %}

{% endblock %}